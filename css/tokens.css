/* ============================================================
   TOKENS.CSS — CSS Custom Property Token System
   Polly Prediction Partners v0.03.01
   Precedence: base defaults → theme preset → mode → illumination
   ============================================================ */

:root {
  /* --- Color: Background --- */
  --color-bg-canvas: #f5f5f5;
  --color-bg-surface: #ffffff;
  --color-bg-brand: #1a73e8;

  /* --- Color: Foreground --- */
  --color-fg-default: #1a1a1a;
  --color-fg-strong: #000000;
  --color-fg-muted: #6b7280;

  /* --- Color: Border --- */
  --color-border-default: #d1d5db;
  --color-border-muted: #e5e7eb;
  --color-border-focus: #1a73e8;

  /* --- Color: Link --- */
  --color-link-default: #1a73e8;
  --color-link-visited: #7c3aed;

  /* --- Color: Code --- */
  --color-code-bg: #f3f4f6;
  --color-code-fg: #111827;

  /* --- Color: State --- */
  --color-state-success: #16a34a;
  --color-state-warning: #d97706;
  --color-state-error: #dc2626;
  --color-state-info: #0891b2;

  /* --- Color: Selection --- */
  --color-selection-bg: #bfdbfe;

  /* --- Color: Debug --- */
  --color-debug-marker: #ff00ff;

  /* --- FX: Master Scale --- */
  --fx-master-scale: 1.0;
  --fx-master-enabled: 0; /* 0=off, 1=on */

  /* --- FX: Glow Channels (0.0–1.0 intensity) --- */
  --fx-glow-text-primary: 0.0;
  --fx-glow-text-secondary: 0.0;
  --fx-glow-bars-primary: 0.0;
  --fx-glow-bars-secondary: 0.0;
  --fx-glow-flood: 0.0;
  --fx-glow-display: 0.0;

  /* --- FX: Channel States (0=off, 1=on) --- */
  --fx-text-primary-enabled: 1;
  --fx-text-secondary-enabled: 1;
  --fx-bars-primary-enabled: 1;
  --fx-bars-secondary-enabled: 1;
  --fx-flood-enabled: 1;
  --fx-display-enabled: 1;

  /* --- FX: Dimmer Values (0.25–1.0) --- */
  --fx-text-dimmer: 1.0;
  --fx-bars-dimmer: 1.0;
  --fx-flood-dimmer: 1.0;
  --fx-display-dimmer: 1.0;
  --fx-master-dimmer: 1.0;

  /* --- FX: Glow Color (set by theme) --- */
  --fx-glow-color: rgba(100, 160, 255, 0.8);
  --fx-flood-color: rgba(100, 160, 255, 0.04);

  /* --- Layout Tokens --- */
  --layout-gutter: 18px;
  --layout-bezel-inner: 6px;
  --layout-bezel-outer: 12px;
  --layout-radius: 6px;
  --layout-radius-lg: 10px;

  /* --- Typography --- */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-mono: 'Courier New', Courier, monospace;
  --font-size-xs: 10px;
  --font-size-sm: 11px;
  --font-size-base: 13px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 20px;
  --font-size-2xl: 28px;

  /* --- Transitions --- */
  --transition-fast: 80ms ease;
  --transition-base: 150ms ease;
  --transition-slow: 300ms ease;

  /* --- Mode (set by JS via data-mode) --- */
  --mode-max-intensity: 0.6; /* light mode default */
}

/* ============================================================
   ACCESSIBILITY: PREFERS-COLOR-SCHEME (Phase 7)
   Sets the dark-mode token ceiling when the OS is in dark mode
   and no explicit data-mode override has been applied by JS.
   ============================================================ */
@media (prefers-color-scheme: dark) {
  :root:not([data-mode]) {
    --mode-max-intensity: 1.0;
  }
}
